<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add New Product</title>
    <!-- <link rel="stylesheet" href="style.css"> </head> -->

    <style>
    .product-form {
    max-width: 500px;
    margin: 40px auto;
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.form-group {
    display: flex;
    flex-direction: column;
}

.submit-btn {
    background-color: #28a745;
    color: white;
    padding: 10px;
    border: none;
    cursor: pointer;
}
    </style>
<body>

    <h2>Inventory Management: Add Product</h2>

    <form id="productForm" class="product-form">
    <div class="form-group">
        <label>Product Name:</label>
        <input type="text" id="pname" required>
    </div>
    <div class="form-group">
        <label>Price (â‚¹):</label>
        <input type="number" id="pprice" required>
    </div>
    <div class="form-group">
        <label>Description:</label>
        <textarea id="pdesc" rows="3" required></textarea>
    </div>
    <div class="form-group">
        <label>Product Image:</label>
        <input type="file" id="pimage" accept="image/*" required>
    </div>
    <button type="submit" class="submit-btn">Add Product</button>
    <a href="products.html">Cancel</a>
   </form>

<script>
document.getElementById('productForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const reader = new FileReader();
    const file = document.getElementById('pimage').files[0];

    reader.onloadend = function() {
        const newProduct = {
            name: document.getElementById('pname').value,
            price: document.getElementById('pprice').value,
            desc: document.getElementById('pdesc').value,
            img: reader.result 
        };

        const products = JSON.parse(localStorage.getItem('myProducts')) || [];
        products.push(newProduct);
        
        localStorage.setItem('myProducts', JSON.stringify(products));

        alert('Product Added Successfully!');
        window.location.href = 'products.html';
    };

    if (file) {
        reader.readAsDataURL(file);
    }
});
</script>
</body>
</html>